/* ----------------------- */
/* --- Search Anywhere --- */
/* ----------------------- */

#search-anywhere-autocomplete {
    color: $black4;
}

.modal-content input[type=text] {
    font-family: 'roboto';
    padding: 10px;
    height: auto;
    box-shadow: none;
}

.autocomplete-suggestion {
    font-family: 'roboto';

    &:hover {
        cursor: pointer;
    }
}

/* ------------------ */
/* --- Token Mold --- */
/* ------------------ */

.token-mold h3 {
    font-weight: 900;
}

section.token-mold {
    margin-bottom: 5px;
    padding-bottom: 9px;
    border-color: $black4L;
}

/* ----------------- */
/* --- Dice Tray --- */
/* ----------------- */

.dice-tray {
    padding: 0 3px;
}

.dice-calculator__input > label {
    font-weight: 900;
    font-family: 'Roboto';
}

.dice-calculator__input-wrapper > textarea {
    font-size: 1.25rem;
    color: $white1;
    font-family: 'Roboto';
    font-weight: 900;
    background: $black4;
    width: 100%;
    max-width: 100%;
    padding: 10px;
}

.dice-calculator > button:hover, .dice-calculator .dice-calculator--button:hover {
    box-shadow: none;
}

.dialog--dice-calculator button {
    font-family: 'Roboto';

    &.roll {
        margin-bottom: 10px;
        padding: 15px 0;
        height: auto;
    }

    &.dice-calculator--button {
        font-size: 1rem;
    }

    &.dice-calculator--op {
        background-color: #801c18;

        &:hover {
            background-color: lighten(#801c18, 10%);
        }
    }
    
    &.dice-calculator--math {
        background-color: #804720;

        &:hover {
            background-color: lighten(#804720, 10%);
        }
    }
    
    &.dice-calculator--confirm {
        background-color: #5b250c;

        &:hover {
            background-color: lighten(#5b250c, 10%);
        }
    }
    
    &.dice-calculator--stat {
        background-color: #6d3b20;

        &:hover {
            background-color: lighten(#6d3b20, 10%);
        }
    }
    
    &.dice-calculator--attr {
        background: #92361b;

        &:hover {
            background-color: lighten(#92361b, 10%);
        }
    }

    &.dice-calculator--light {
        background-color: $black3;

        &:hover {
            background-color: $black3L;
        }
    }

    &.dice-calculator--dark {
        background-color: $black1L;

        &:hover {
            background-color: $black1;
        }
    }
}

/* --------------- */
/* --- Tidy 5e --- */
/* --------------- */

.system-dnd5e.tidy5eDark {
    --background: $black1;
}

.tidy5e.sheet.actor {

    /* --- Character Sheet Header --- */

    .char-name {
        font-family: 'roboto';
        font-weight: 900;
        font-size: 1.25rem;
    }

    .speed-form {
        font-size: 12px;
    }

    .header-attributes .ac-display {
        .config-button {
            font-family: 'Roboto Condensed';
            font-weight: 900;
            font-size: 34px;
            letter-spacing: -3px;
            text-align: center;
            margin-left: -5px;
            padding: 0;
        }

        .attribute-value .property-attribution {
            background: $black2;

            table tr:nth-child(even) {
                background: transparent;
            } 
        }
    }

    .attribute-name {
        font-family: 'roboto condensed';
        font-size: 1rem;
    }

    .attribute-name, .ability-scores .ability {
        .ability-name {
            font-family: 'roboto condensed';
            font-size: 1rem;   
        }

        .ability-modifiers:hover ~ .mod-label {
            margin-top: -4px;
        }
    }

    .ability-scores .ability .ability-score, .header-attributes .value {
        font-family: 'roboto condensed';
        font-size: 1.25rem;
    }

    .portrait-hp input, .portrait-hp span {
        font-family: 'roboto';
        font-size: 14px;
    }

    .tidy5e.sheet.actor .portrait-temp input {
        font-family: 'Roboto Condensed';
    }

    .level {
        font-family: 'roboto condensed';
        font-size: 17px;
        font-weight: 900
    }

    // Fix paddings
    .items-list .items-header .spell-slots input,
    .spellcasting-ability select,
    .spellcasting-ability input,
    .portrait-hp input,
    .portrait-hp span {
        padding: 0;
    }

    //Fix Spellcasting Ability text
    .spellcasting-ability h3 {
        font-family: 'roboto';
        font-weight: 900;
        font-size: 14px;
    }

    /* ------------------------- */

    .resources .resource {
        .resource-name input {
            font-family: 'roboto condensed';
            font-size: 0.813rem;
        }

        .resource-value.multiple input {
            font-family: 'roboto condensed';
            font-weight: 700;
            font-size: 1.125rem;
        }
    }

    /* --- Character Sheet Inventory --- */

    #item-info-container {
        .info-card-hint, .info-card {
            background-color: $black3!important;
        }

        .info-card .info-card-name {
            font-family: 'roboto condensed';
            font-weight: 900;
            font-size: 1.25rem;
        }
    }

    .items-list .item {
        .context-menu {
            background-color: $black4;
        }

        .item-quantity input {
            padding: 0;
        }

        .ammo-switch option {
            background: $black3;
        }
    }

    .inventory-currency .currency-item a {
        background-color: $black3;

        &:hover {
            background-color: $black3L;
        }
    }

    .item-summary {
        table td, table th {
            padding: 5px 2px;
        }

        h1 {
            margin-top: 20px;
        }

        h2, h3, h4, h5, h6 {
            margin-top: 10px;
        }
    }

    .attuned-items-counter input {
        padding: 0;
    }

    // NPC Sheet

    &.npc {
        .level-information {
            font-family: 'roboto condensed';
        }

        .spellbook-title {
            font-family: 'roboto';
            font-weight: 900;
            border: none;
        }

        .spellcasting-ability .spell-dc {
            font-family: 'roboto condensed';
            font-size: 1rem;
        }

        .origin-summary .environment span:focus-within,
        .origin-summary .environment:hover .environment-label {
            background: $black3;
        }
        
        .origin-summary .environment .environment-label::after {
            border-top-color: $black3;
        }

        .actor-size-select.active ul {
            background: $black3;
        }

        .actor-size-select .size-list li:hover {
            background: $black3L;
        }
    }
}

.tidy5e.sheet.item {

    .sheet-header {
        .charname input {
            font-family: 'roboto';
            font-weight: 900;
            font-size: 1.375rem;
        }

        .item-subtitle {
            padding: 3px;
            padding-left: 6px;
            height: auto;
            
            .item-type {
                font-family: 'roboto condensed';
                font-size: 1.063rem;
                font-weight: 900
            }

            .item-status {
                font-family: 'roboto condensed';
                font-size: 0.75rem;
                font-weight: 900;
            }
        }

        .summary {
            border: none;
            margin-top: 5px;

            li {
                border-left: none;
                position: relative;
                padding-left: 6px;

                &:first-child {
                    padding-left: 6px;
                }

                &:before {
                    content: '';
                    display: block;
                    position: absolute;
                    left: -3px;
                    top: calc(50% - 10px);
                    width: 3px;
                    height: 17px;
                    background-color: var(--faint-color);
                }

                input {
                    margin-left: -6px;
                }
            }
        }

    }

    .sheet-body {
        input[type="checkbox"]:checked {
            background-color: $black3;
        }

        .sheet-tabs .item {
            justify-content: center;
        }
        
        //Properties sidebar
        .item-properties .properties-list li {
            font-size: 0.813rem;
            padding: 5px;
        }

        //Sheet contents
        .tab.item-betterRolls, .tab.details, .tab.dynamiceffects, .tab.magic-items {
            .form-header, .damage-header { //Headers
                font-family: 'roboto';
                border: none;
                font-weight: 900;
                margin-left: 0;
                margin-top: 20px;
            }

            .form-group { // Form lines
                background: transparent;
                padding: 0;
                margin: 5px 0;

                margin: 0;
                padding: 10px;
                border-radius: 5px;

                &:not(:first-child) {
                    margin-top: -5px;
                }

                &:hover {
                    background: $black1L;
                }

                label {
                    margin: 0;
                    font-weight: 500;
                    color: $white1;

                    &.checkbox { // The properties checkboxes
                        background: var(--prepared);
                    }
                }

                select, input:not([type="checkbox"]):not([type="radio"]):not([type="range"]), button { // Inputs
                    background: $black3;
                    padding: 5px 10px;
                    height: auto;
    
                    &:hover, &:focus {
                        background: $black3L;
                        box-shadow: none;
                        box-shadow: 0 0 3px #6f6f6f inset, 0 0 3px #6f6f6f inset, 0 0 3px #6f6f6f inset, 0 0 3px #6f6f6f inset;
                    }
                }
            }

            h4.damage-header {
                color: $white1;
                font-weight: 500;
                font-size: .813rem;
                text-align: right;
    
                margin-right: 10px;
                margin-top: 10px;
                display: grid;
                grid-template-columns: 4fr 6fr;
                grid-gap: 20px;
                justify-content: center;
                align-items: center;
    
                a {
                    width: calc(100% - 10px);
                    text-align: center;
                    background: $black3;
                    color: $white1;
                    border-radius: 5px;
                    background: transparent;
                    border: 2px dashed $black3L;
                    transition: all .15s ease-in-out;
                    padding: 5px 10px;
    
                    &:after {
                        content: 'Add damage';
                        margin-left: 5px;
                        font-weight: 400;
                        
                    }
    
                    &:hover {
                        text-shadow: none;
                        background: $black3L;
                        border-style: solid;
                    }
                }
            }
    
            .damage-parts {
                padding-right: 0;
    
                &:hover {
                    background: transparent;
                }
    
                .damage-part {
                    display: grid;
                    grid-gap: 5px;
                    grid-template-columns: 1fr 1fr;
                    grid-template-areas: 
                        "dmg dmg"
                        "ctx typ";
                    padding: 10px 0;
                    padding-left: calc(40% + 10px);
                    padding-right: 10px;
                    border-radius: 10px;
                    position: relative;
                    border: none;
    
                    &:not(:first-child) {
                        margin-top: -10px;
                    }
        
                    &:hover {
                        background: $black1L;
                    }
        
                    input {
                        margin: 0!important;
                    }
        
                    input:first-child {
                        grid-area: dmg;
                    }
        
                    .delete-damage {
                        position: absolute;
                        top: 10px;
                        left: calc(40% - 30px);
                        color: $white1;
                        background: $black3;
                        padding: 5px;
                        width: auto;
                        line-height: 1;
                        border-radius: 4px;
                        font-size: .75rem;
    
                        &:hover {
                            text-shadow: none;
                            background: $black3L;
                        }
                    }
                }
            }
        }

        .tab.details .form-group {
            &.stacked {
                display: grid;
                grid-gap: 10px;
            }

            &.spell-components,
            &.weapon-properties {
                display: flex;
                gap: 1px;
                padding-left: 145px;

                label {
                    text-align: start;

                    &:not(.checkbox) {
                        margin-left: -122px;
                        padding-right: 10px;
                        margin-right: 0;
                        width: fit-content;
                        flex: 0;
                    }

                    &.checkbox {
                        flex: 0 0 calc(100% / 3 - 1px);
                    }
                }
            }

            &.spell-components label:not(.checkbox) {
                padding-right: 15px;
            }
        }

        //Damage formula save DC
        .tab.details .form-group.input-select .form-fields input[name="data.save.dc"] {
            padding: 5px 0;
        }

        //Magic Items Activation Options section doesn't work with display:grid
        .tab.magic-items .magic-item-enabled > .form-group:first-child {
            display: flex;
        }

        //Padding for the magic items checkboxes
        .tab.magic-items .form-group label.checkbox {
            padding: 5px 10px;
            height: 30px;
            margin-bottom: 5px;

            input {
                margin-right: 7px;
            }
        }

        //Bigger font and padding for the Active Effects tab
        .tab.effects .items-list .items-header h3 {
            font-size: 13px;
            padding: 5px;
            color: $white1;
        }

        

    }   

    

}

// TinyMCE Toolbar

.tidy5e.sheet {
    .tox-sidebar-wrap { //TinyMCE background
        background: transparent!important;
        padding: 0!important;
    }

    .tox { 
        &.tox-tinymce .tox-editor-container .tox-editor-header {
            display: block;
    
            .tox-toolbar-overlord {
                position: absolute;
                bottom: 0;
                right: 15px;
                width: 100%;
                background: $black3;
            }

            .tox-toolbar-overlord, 
            .tox-toolbar__primary {
                background: transparent;
            }
        }

        .tox-tbtn {
            display: none;

            &[title="Save"] {
                display: block;
                width: 100%!important;
                height: 100%!important;
                padding: 5px;

                .tox-icon {
                    display: flex;
                    justify-content: center;
                }
            }
        }

        .tox-toolbar__group {
            width: 100%;
            justify-content: center;
        }
    }

    &.actor {
        .tox-editor-container .tox-editor-header {
            border: none;
        }

        .tox.tox-tinymce .tox-editor-container .tox-toolbar-overlord {
            right: 0;
            bottom: 5px;

            button {
                background: $black4;
    
                &:hover {
                    background: $black4L;
                }
            }
        }

        h1, h2, h3, h4 {
            color: $white1;
        }
    }

    &.item .tox.tox-tinymce .tox-editor-container .tox-toolbar-overlord {
        right: 0;
    }
}

.tidy5e .materials {
    margin-bottom: 5px;
}

.tidy5e.sheet.item .sheet-body .editor .editor-content, .tidy5eDark .tidy5e.sheet.actor {

    a.entity-link, a.inline-roll, a.gmroll.inline-roll {
        background: transparent;
        border: none;
        padding: 0;
        color: $accent1;
        display: inline-flex;
        transition: all .1s ease-in-out;

        i {
            color: $accent1;
            font-size: 75%;
            align-self: center;
            display: inline-block;
            margin-right: 3px;
            transition: all .1s ease-in-out;
        }
    
        &:hover {
            color: $accent1L;

            i {
                color: $accent1L;
            }
        }
    }
}

.tidy5e-navigation .item, .sheet-navigation .item {
    font-weight: 500;
}

.app.trait-selector {
    input[type="text"] {
        height: 24px;
        background: $black3;

        &:first-child {
            margin: 0;
            text-align: center;

            &:hover {
                background: $black3L;
            }
        }
    }

    .trait-list li:not(.subtype):not(.custom-type) label:hover {
        color: white;
        cursor: pointer;
    }
}

// Settings window

.app.window-app.tidy5e.settings {
    border: none;

    .window-content {
        overflow: scroll;
    }

    .setting {
        background: transparent;
        position: relative;
        padding: 10px;
        border-radius: 10px;

        &:hover {
            background: $black1L;
        }

        &:after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 5%;
            width: 90%;
            height: 1px;
            background: $black3;
        }

        .notes {
            margin-bottom: 0;
        }
    }
}

/* --------------------------- */
/* --- Collapsible headers --- */
/* --------------------------- */

.cjs-collapsible:not(.cjs-collapsedSect)::before, .cjs-collapsible:not(.cjs-collapsedSect):hover::before, .cjs-collapsedSect::before {
    content: '';
    display: none;
}

/* ------------------------ */
/* --- Token Action HUD --- */
/* ------------------------ */

#token-action-hud {
    background: $black2!important;
    border-radius: 0 6px 6px 6px;
    gap: 5px;

    .tah-category:not(:nth-last-child(2)):after {
        content: '';
        width: 1px;
        height: 15px;
        display: block;
        background: $black4L;
        position: absolute;
        right: -2px;
        top: 10px;
    }

    .tah-title-button {
        background: transparent;
        border: none;
        padding: 3px 10px;
        border-radius: 0;
        margin: 0;
    
        &:hover {
            border: none;
            border-radius: 6px;
            font-weight: 500;
            border: 0;
            box-shadow: $shadow;
        }

        .fa-filter {
            display: none;
        }
    }

    .tah-category.hover .tah-content {
        left: 0;
        padding: 15px;
        background: $black2!important;
        border-radius: 0 0 5px 5px;

        .tah-subcategory {
            display: block;
            position: relative;

            &:not(:first-child) {
                margin-top: 15px;
            }

            .tah-subtitle {
                font-weight: 900;
                text-align: left;
                padding: 0;
                margin-bottom: 5px;
    
                &:after {
                    content: '';
                    display: block;
                    height: 1px;
                    width: 100%;
                    margin-top: 3px;
                    background: $black4L;
                }
            }

            .tah-actions {
                gap: 5px;

                .tah-action {
                    margin: 0;
                    padding: 0;
                
                    button {
                        background: $black3;
                        margin: 0;
                        padding: 3px 5px;
                
                        &:hover {
                            font-weight: 500;
                            border: none;
                            box-shadow: $shadow;
                        }
                    }
                }
            }
        }

        .tah-action button {
            border: none;
            background: $black2;
            border-radius: 5px;

            &:hover {
                border: none;
                background: $black3L;
            }
        }
    }

    #tah-hudTitle {
        background: $black4;
        border-radius: 5px 5px 0 0;
        padding: .25em 10px;
        margin-left: 0;
    }

    #tah-categories {
        border-radius: 0 5px 5px 0;

        .fa-book:before {
            content: '\f067';
            font-size: 13px;
        }
    }

    &:hover {
        border-radius: 0;

        #tah-reposition, #tah-categories {
            background: $black1;
            height: 100%;
            padding: 0 5px;
        }

        #tah-reposition {
            display: flex;
            justify-content: center;
            align-items: center;
            left: -35px;
            border-radius: 5px 0 0 6px;
        }
    }
}

.tagify {
    --tag-bg: $black4;
    --tag-hover: $black4L;
    --tag-text-color: $white1;
    --tag-text-color--edit: $white1;
    --placeholder-color: $white1;
}

.token-action-hud-taginput {
    background: $black3!important;
    border: none;
    border-radius: 5px;
    margin-top: 5px;
    margin-bottom: 10px;
    color: $white1!important;
}

#token-action-hud-index {
    background: $black3!important;
    border: none;
    border-radius: 5px;
    color: $white1!important;
}

.tagify__tag>div {
    font-size: 13px;
}

/* ------------------------- */
/* --- Multilevel Tokens --- */
/* ------------------------- */

#drawing-config .tab[data-tab="multilevel-tokens"] .form-header {
    color: $white1;
    border: none;
    font-weight: 900;
    font-size: 1.25rem;
    margin-top: 25px
}

#drawing-config .tab[data-tab="multilevel-tokens"] hr {
    border: none;
    border-top: 1px solid $black4L;
}


/* ------------------------------------- */
/* --- Crash's Tracking and Training --- */
/* ------------------------------------- */

.dnd5e.sheet, .tidy5e.sheet .crash-training {
    .activity-type {
        color: $white1;
    }
    
    .activity-override {
        color: $white1;
    }
    
    .items-list {
        color: $white1;
    }
}

.tidy5eDark .tidy5e.sheet .crash-training .crash-training-controls div {
    color: $white1;
}

.dnd5e.sheet .crash-training {
    .items-list .items-header {
        border: none;
    }

    .crash-training-controls div {
        border: none;
        background: $black3;
        color: $white1;

        &:hover {
            text-shadow: none;
            color: $white1;
            background: $black3L;
        }
    }
}

form.crash-tracked-item-app {
    .form-header {
        color: $white1;
        font-family: 'roboto';
        font-weight: 900;
        border: none;
        margin-top: 15px;
    }

    .form-group label {
        color: $white2;
    }
}



/* ----------------------- */
/* --- Simple Calendar --- */
/* ----------------------- */


// --- Buttons ---


.simple-calendar,
.simple-calendar-configuration,
.simple-calendar-note {
    .control {
        border: none;
        box-shadow: none;
        padding: 5px 10px;
        border-radius: 5px;
        background-color: $black3;
        color: $white1;
        font-family: 'roboto';
        font-weight: 500;
        transition: all .15s ease-in-out;

        &::before {
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            margin-right: 5px;
        }

        &:hover {
            background-color: $black3L;
            color: $white1;
        }

        &.save {
            background-color: $black3;

            &:hover {
                background-color: $black3L;
            }
        }

        &.delete:hover {
            background-color: rgb(192, 41, 41);
        }
    }
}


// --- Calendar ---


.simple-calendar #simpleCalendar {
    .calendar {
        box-shadow: none;
        border: none;
        background-color: $black3!important;
        color: $white1;
        border-radius: 5px;
        margin: 0;

        .calendar-header {
            background-color: $black3!important;

            .current-date {
                font-weight: 900;
            }

            a:hover {
                color: white;
            }
        }

        .days .week .day {
            border-radius: 0;
            transition: all .15s ease-in-out;

            &:hover {
                background-color: $black3L;
                border-radius: 10px;
                box-shadow: $shadow;
            }

            &.current {
                background-color: rgba(56, 13, 99, 0.5);
                box-shadow: 0 0 10px #9b8dff inset;
                border-radius: 10px;

                &:hover {
                    background-color: rgba(81, 22, 141, 0.5);
                }
            }

            &.selected {
                background-color: $black3L;
                border-radius: 10px;
                box-shadow: $shadow;

                &:hover {
                    background-color: $black4L;
                }
            }
            
        }
    }

    // Time Display

    .time-display {
        background-color: $black3;
        color: $white1;
        box-shadow: none;
        border: none;
        border-radius: 5px;
        margin-top: 10px;
        margin-bottom: 10px;
        font-size: 1rem;

        .clock {
            transform: scale(1);
        }
    }

    .calendar-controls {
        margin: 0;
    }

    // Time & Date Controls

    .controls {
        margin-bottom: 0;

        .time-controls {
            background-color: transparent;
            color: $white1;
            box-shadow: none;
            border-radius: 5px;
            padding-top: 0;
        }

        .date-controls {
            @extend .time-controls;
            padding-top: .5rem;
        }

        .date-apply-wrapper {
            @extend .date-controls;
            padding-bottom: 0;
            margin-bottom: 0;
        }
    }

    // Notes

    .date-notes {
        margin-top: 20px;
        padding: 0 10px;

        .date-notes-header {
            border: none;
        }

        .note-list {
            border: none;

            .note {
                border: none;
                box-shadow: none;
                background-color: transparent;
                padding: 10px;
                position: relative;
                line-height: 1;
                transition: all .15s ease-in-out;
                color: $white2;
    
                &:nth-child(2) {
                    border: none;
                }
                
                &:before {
                    content: '';
                    display: block;
                    width: 3px;
                    height: 50%;
                    position: absolute;
                    top: 25%;
                    left: 0;
                    background-color: $white2;
                }
                
                &:hover {
                    background-color: $highlight;
                    border-radius: 5px;
                    color: white;
    
                    &:before {
                        background-color: white;
                    }
                }

                .note-details {
                    .note-icon,
                    .note-time,
                    .note-category {
                        box-shadow: none;
                        border-radius: 5px;
                    }
                }

                .sorting-dragger {
                    box-shadow: none;
                    border: none;
                    background: $black2L;
                }
                
            }
        }
    }

    // Compact Calendar

    .compact-calendar {
        .season-moon-info {
            background-color: transparent!important;
            border: none;

            .notes-wrapper .add-note {
                line-height: 1;
                height: fit-content;
                padding: 4px;
                padding-left: 9px;
                text-align: center;
            }
        }

        .note-list {
            border: none;
            margin-top: 10px;

            .note {
                border: none;

                &:hover {
                    background-color: $highlight;
                }
            }
        }
    }
}


// --- Notes ---


.simple-calendar-note #simpleCalendarNotes {
    .editor {
        min-width: auto;

        .tox.tox-tinymce {
            padding-bottom: 0;

            .tox-editor-container .tox-editor-header {
                display: none;
            }
        }
    }

    .control.save {
        padding: 10px;
        height: auto;
    }

    .note-category {
        background: $black3;
        box-shadow: none;
        font-weight: 500;
        padding: 5px 10px;
        margin: 0;
        margin-top: 5px;
        transition: ease-in-out;

        &:hover,
        label:hover {
            cursor: pointer;
        }
    }

    .note-details {
        gap: 5px;
    }

    .edit-controls {
        border-color: $black3L;
    }

    .editor {
        background: $black3;
    }
}


// --- Configuration ---


.simple-calendar-configuration #simpleCalendarConfiguration {
    .tabs {
        border-color: $black4L;
        margin-top: 10px;

        .item {
            border: none;
            border-radius: 0;
            font-size: .813rem;
        }
    
        .item.active,
        .item:hover {
            background-color: $black3L;
            color: $white1;
            border: none;
            border-radius: 5px 5px 0 0;
        }
    }

    .tab {
        background-color: $black2;
        color: $white1;
        border: none;

        .form-group {
            display: flex;
            border: none;

            label {
                color: $white1;
            }

            p.notes, p.hint {
                color: $white2;
            }
        }

        &[data-tab="generalSettings"] .settings-group {
            & > .form-group:nth-child(2) {
                display: grid;

                .notes {
                    grid-column: 1 / 2;
                }
            }

            .import-group {
                box-shadow: none;
                border: none;
                padding: 0;
                color: $white2;
                
                p {
                    font-size: .813rem;
                    line-height: 1.5;
                }
    
                .import-options {
                    margin-top: 20px;
                }
            }

            .table-header {
                width: calc(100% + 80px);
                padding: 10px 40px;
                margin-left: -40px;
                background: $black1;
            }
        }

        .settings-group {
            div.form-group {
                border: none;
    
                label {
                    flex: 2;
                    text-align: right;
                }
    
                div.form-fields {
                    flex: 3;
                }
            }
        }

        &[data-tab="generalSettings"].general-settings .settings-group {
            label {
                text-align: left;
            }

            .notes {
                padding: 0;
            }
        }

        .f-table {
            border: none;

            .row {
                padding: 5px 40px;
                width: calc(100% + 80px);
                margin-left: -40px;
                gap: 10px;

                div {
                    flex: 1;
                }

                &:nth-child(odd) {
                    background-color: $black2L;
                }
                
                input, select {
                    border: none;
                    border-radius: 5px;
                }

                input[type="text"] {
                    padding: 5px 10px;
                }

                input[type="color"] {
                    background-color: $black3;
                    border: none;
                    border-radius: 5px;
                }

                .options {
                    padding: 0;
                    flex: 0 0 100%;

                    h3 {
                        border: none;
                        margin-top: 20px;
                        font-weight: 900;
                    }

                    div.form-group {
                        border: none;
            
                        label {
                            flex: 2;
                            text-align: right;
                        }
            
                        div.form-fields {
                            flex: 3;
                        }
                    }
                }

                &.head {
                    background-color: transparent;
                    border: none;
                    text-align: center;
                    flex: 1;
                }
            }
        }
    }

    .config-save {
        background: $black2;
        border: none;
        padding-bottom: 10px;
        height: auto;

        .control {
            height: 35px;
        }
    }
}


/* -------------------------- */
/* --- Compendium Browser --- */
/* -------------------------- */


.compendium-browser {
    .tabs {
        border-bottom: 1px solid $black4L;

        .item {
            padding-bottom: 5px;
        }
    }

    .control-area {
        overflow-x: auto;

        .filtercontainer {
            border: none;
            padding: 0;
    
            input, select {
                border: none;
                padding: 5px 10px;
            }
    
            button {
                border: none;
                background: $black3;
    
                &:hover {
                    background: $black3L;
                }
            }
    
            h3 {
                font-weight: 900;
                font-size: 1.25rem;
                margin-top: 20px;
            }
    
            .filter {
                dt {
                    padding: 0;
                    font-weight: 500;
                    color: $white2;
                }

                .multiselect {
                    border: none;
                    background: $black3;
                    border-radius: 5px;
                    line-height: 27px;
                    
                    & > label:first-child {
                        display: flex;
                        align-items: center;
                        position: relative;
                        width: 100%;
                        padding: 0;
                        padding-left: 10px;
                        border-radius: 5px;
                        height: 100%;
                        font-weight: 500;

                        &:hover {
                            cursor: pointer;
                            background: $black3L;
                        }

                        &:after {
                            content: '\203A';
                            display: block;
                            font-size: 1.25rem;
                            font-weight: 900;
                            transform: rotate(90deg);
                            position: absolute;
                            right: 10px;
                            top: 0;
                            height: 100%;
                        }
                    }

                    dl {
                        display: grid;
                        grid-template-columns: 1fr 30px;
                        padding: 5px;

                        dt {
                            width: 100%;
                            display: flex;
                            align-items: center;
                            border-radius: 5px 0 0 5px;
                            padding-top: 0;

                            &:hover {
                                background: $black3L;

                                & + dd {
                                    background: $black3L;
                                }
                            }
                        }

                        dd {
                            width: 100%;
                            padding: 0;
                            margin: 0;
                            border-radius: 0 5px 5px 0;
                            display: flex;
                            align-items: center;
                            justify-items: center;
                        }
                    }
                }

                &[data-path="data.level"] .multiselect dl {
                    display: grid;
                    grid-template-columns: repeat(10, 1fr);

                    dt label {
                        text-align: right;
                        width: 100%;
                    }
                }

                select.small-select {
                    padding: 0;
                    padding-left: 10px;
                    width: 46px;
                }

                input.small-input {
                    width: calc(100% - 53px);
                    border: none;
                    margin-left: 3px;
                    background: $black3;
                }
            }
        }
    }

    .list-area {
        overflow: unset;
        padding: 0;

        ul {
            padding-right: 5px;
        }
    }

    .spell-browser {
        #CBSpells .spell-tags {
            max-width: none;
            font-weight: 500;
        }
    }

    .feat-browser {
        #CBFeats .feat-tags {
            color: $white2;
        }
    }

    #CBNPCs .npc-tags {
        display: grid;
        grid-template-columns: 1fr 1fr 3fr;

        span {
            color: $white2;

            &.type {
                text-align: right;
                padding-right: 10px;
            }
        }
    }

    .settings .settings-group {
        border: none;
        padding: 0;

        h3 {
            font-size: 1.25rem;
            font-weight: 900;
            margin-top: 20px;
            margin-bottom: 5px;
        }

        label {
            color: $white2;
            transition: all .15s ease-in-out;

            &:hover {
                color: white;
                cursor: pointer;
            }

            h4 {
                font-weight: 500;
            }

            input {
                margin-left: 0;
            }
        }
    }    
}


/* ---------------------------------- */
/* --- Compendium & Macro Folders --- */
/* ---------------------------------- */


.form-compendium-list,
.form-folder-list,
.form-macro-list,
.form-folder-list {
    border-color: $black4;
    border-radius: 5px;

    .form-header {
        margin-bottom: 10px;
    }

    hr {
        border: none;
        border-bottom: 1px solid $black4;
    }
}


/* ---------------------------------- */
/* --- Compendium & Macro Folders --- */
/* ---------------------------------- */


div.CodeMirror {
    background: $white2;
}


/* -------------------------- */
/* --- Thandul Togglables --- */
/* -------------------------- */


#controls .control-tool {
    i.fa-thandul {
        height: 25px;
        width: 25px;
    }

    .thandulTogglables {
        top: -140px;
        left: 230px;
    }
}


/* ---------------------------- */
/* --- Blitz SocketSettings --- */
/* ---------------------------- */


#client-settings form .notes.socket-settings-button {
    background: $black3!important;
    padding-left: 10px;
    text-align: center;

    &:hover {
        background: $black3L!important;
    }
}


/* ------------------------ */
/* --- Blitz Soundboard --- */
/* ------------------------ */


#soundboard-app {
    .btn {
        border-color: $black4;
        color: $white1;
        border-radius: 5px;
    
        &:hover {
            background: $black3L;
        }
    }

    .notes {
        color: $white2!important;

        &.sb-warning {
            color: rgb(206, 81, 81)!important;
        }
    }

    input[type="text"] {
        border: none;
        margin-left: 0!important;
    }

    .soundboard-container > div {
        gap: 10px;

        button {
            padding: 1px 10px;
        }

        .sb-collapse-div {
            gap: 7px;
        }
    }

    .sb-extended-options.active {
        background: $black4;
    }

    #volume-container,
    .window-header,
    #toolbar {
        background: $black1L;
    }

    #toolbar {
        padding: 0 15px;
        padding-bottom: 5px;

        .btn {
            background: $black3!important;
    
            &:hover {
                background: $black3L!important;
            }
        }
    }

    .soundboard-container .btn-secondary {
        background: $black3L!important;
        border: none;
    }

    .soundboard-container .dropdown-menu {
        background: $black4;
        color: $white1;
    }
}

#soundboard-packagemanager-app .soundboard-packman-container {
    margin-top: 30px;

    .no-packs {
        text-shadow: none;
        color: $white2;
    }
}


/* ----------------------- */
/* --- Monk's Tokenbar --- */
/* ----------------------- */

// Anywhere there's actor lists

.monks-tokenbar .sheet {
    margin-top: 20px;

    .items-list .items-header {
        border: none;
        color: $white1;
        margin-bottom: 10px;
        
        h3 {
            font-family: 'roboto';
            font-weight: 900;
            padding: 0;
        }

        .item-controls a:hover {
            text-shadow: none;
            color: white;
        }
    }

    .item-list .item {
        border: none;
        margin-bottom: 15px;

        h4 {
            color: $white1;
            font-weight: 500;
        }
    }

    select {
        color: $white1;
        padding: 0 5px;
        border: none;
        background: $black3;

        optgroup {
            background: $black3;            
        }
    }
}

// Request saving throw

#requestsavingthrow {
    .request-header {
        background: $black1;
        padding: 2px 10px;
        box-shadow: none;
        border: none;
    }

    .request-grid > div {
        color: $white2;
        border: none;
        padding: 3px 4px;
        transition: all .15s ease-in-out;
    
        &.selected, &:hover {
            box-shadow: none;
            border: none;
            background: $black3L;
            color: $white1;
        }
    }
}

// Contested Rolls

#contestedroll {
    min-height: 350px;

    .form-group {    
        &:nth-child(2) {
            margin-bottom: 20px;
        }
    
        &.sheet {
            margin: 0;
        }
    }
}

// Tokenbar controls, at the bottom

#tokenbar:not(.hidectrl) .bar-controls .tokenbar-buttons {
    div:not(.disabled) {
        border: none;
        transition: all .15s ease-in-out;

        &:hover {
            filter: none;
            border: none;
            background: $black3L;
            box-shadow: $shadow;
            border-radius: 5px;
        }

        i:hover {
            color: $white1;
        }
    }
}

#tokenbar .bar-controls .tokenbar-buttons div.active:not(.disabled),
#tokenbar[movement="free"] #movement-free:not(.disabled),
#tokenbar[movement="none"] #movement-none:not(.disabled),
#tokenbar[movement="combat"] #movement-combat:not(.disabled) {
    box-shadow: 0 0 5px #9b8dff inset;
    border-radius: 7px;
    background: rgba(56, 13, 99, 0.5);

    i {
        border: none;
        color: white!important;

        &:hover {
            color: $white1;
        }
    }
}

#tokenbar .token .token-icon {
    transition: all .15s ease-in-out;
}

// Chat messages

.monks-tokenbar.chat-card {
    .card-header {
        border: none;
        margin-bottom: -10px;
    
        h3 {
            font-family: 'roboto';
            font-weight: 900;
            color: $white1;
    
            &:hover {
                text-shadow: none;
                color: $white1;
            }
        }
    }

    .message-content {
        .items-list {
            padding: 0;

            li.item {
                margin-bottom: 5px;

                .dice-roll {
                    .dice-total {
                        height: auto;
                        display: grid;
                        grid-template-columns: 1.5fr 1fr 1fr;
        
                        .item-control {
                            transition: all .15s ease-in-out;
        
                            &:hover {
                                text-shadow: none;
                                background: $black3;
                            }
                        }
                    }
    
                    .dice-tooltip {
                        margin-top: 10px;
                    }
                }
            }
        }        
    }

    .card-footer {
        border-color: $black4L;

        .grab-message {
            border: none;
        }
    }

    &.assignxp {
        .item-row {
            display: grid;
            grid-template-columns: 3fr 1fr;
            position: relative;
            overflow: hidden;
            margin-bottom: 5px;

            .item-control {
                position: absolute;
                bottom: -5px;
                right: -30px;
                line-height: 1;
                background: $black3;
                padding: 3px 5px;
                border-radius: 5px;
                z-index: 2;
                transition: all .15s ease-in-out;
                visibility: hidden;

                i {
                    visibility: visible;
                    color: $white1;
                }

                &:hover {
                    text-shadow: none;
                    background: $black4;
                }
            }

            div.xp-result.dice-total.flexrow {
                font-size: 1rem;
                grid-template-columns: 1fr;
                align-items: center;
            }
        }
    }
}

// Settings menu

.monks-tokenbar.editstats .tt-menu {
    background: $black4;
}


/* --------------------------- */
/* --- Combat Utility belt --- */
/* --------------------------- */


.cub-puter ul.gadget-list {
    background: $black3;
    border: none;
    border-radius: 5px;
    max-height: none;

    li {
        padding: 3px 5px;

        &:hover {
            text-shadow: none;
            background: $black3L;
        }
    }
}


/* ---------------------- */
/* --- Party Overview --- */
/* ---------------------- */

#party-overview-button {
    margin-bottom: 5px;
}

div.party-overview .table-row {
    border: none;

    &:nth-child(2n) {
        background: $black2L;
    }

    .num span:first-child {
        border-color: $black4L!important;
    }

    .button {
        flex-basis: 50px;

        button {
            padding: 0;
        }
    }

    .text {
        padding-left: 10px;
    }
}

.dnd5e button.party-overview {
    background: $black3;
    border: none;
    width: 100%;
    margin: 0;
    margin-bottom: 5px;

    &:hover {
        background: $black3L;
    }
}


/* ----------------- */
/* --- GM Screen --- */
/* ----------------- */


.gm-screen-app.gm-screen-drawer {
    width: calc((var(--gm-screen-width) / 100 * (100vw - var(--gm-screen-right-offset) - var(--sidebar-width))) - 15px); // subtract 15px from the sidebar padding
    right: calc((var(--sidebar-width) + var(--gm-screen-right-offset)) + 15px); // add 15px from the sidebar padding

    .gm-screen-actions button {
        background: $black2;
    }

    .gm-screen-grid-cell-content-wrapper {
        box-shadow: none;
    }
}

.gm-screen-container.window-content.tab {
    margin: 0;
}


/* ------------------------------- */
/* --- Monk's Enhanced Journal --- */
/* ------------------------------- */

#MonksEnhancedJournal.maximized {
    width: calc(100vw - 328px)!important;
}


#MonksEnhancedJournal .monks-enhanced-journal {    
    .sidebar {
        background: $black2;
        border-left: 1px solid $black3;
    
        #journal-directory {
            .folder-header {
                border-radius: 5px 5px 5px 0;
            }
            .subdirectory {
                padding: 5px;
                padding-bottom: 2px;
                border-radius: 0 0 0 5px;
            }
    
            .directory-item.entity {
                border: none;
            }
    
            .directory-header .header-search input {
                background: $black4;
                border: none;
                border-radius: 5px;
            }
        }
    }

    .mainbar {
        & > div {
            border-color: $black3L;
        }

        .tab-bar {
            .journal-tab {
                background: $black3;
                border: none;
                margin-right: 5px;
                font-family: 'roboto';
                border-radius: 5px 5px 0 0;
                font-weight: 500;
                transition: all .15s ease-in-out;
                font-size: .813rem;
    
                &:hover, &.active {
                    box-shadow: $shadow;
                    background: $black3L;
                }
            }

            .tab-button {
                transition: .15s ease-in-out;

                &:hover {
                    text-shadow: none;
                    color: white;
                }
            }
        }

        .bookmark-bar {
            border: none;

            .bookmark-button {
                border: none;
                background: $black3;
                border-radius: 5px;
                transition: all .15s ease-in-out;

                &:hover {
                    background: $black3L;
                }
                
                &.add-bookmark {
                    padding: 2px;
                    padding-left: 3px;                    
                }
            }
        }

        .navigation {
            background: transparent;
            border: none;

            .nav-button {
                background: $black3;
                border: none;
                transition: all .15s ease-in-out;

                &:hover {
                    background: $black3L;
                    box-shadow: none;
                }
            }

            input {
                background: $black4;
            }
        }
    }

    .editable .header-name {
        border: none;

        input[name="name"] {
            margin-bottom: 0;
            padding-left: 0;
            margin-top: 10px;
        }
    }

    .editor {
        padding: 0;
        padding-right: 15px;

        .tox .tox-editor-container .tox-editor-header {
            .tox-menubar {
                background: transparent;
                padding: 0;
            }
    
            .tox-toolbar-overlord {
                right: 0;
                border-radius: 5px;
    
                .tox-toolbar__primary {
                    border: none;
    
                    button[title="Save"] {
                        border-radius: 5px;
                    }
                }
            }
        }
    }

    .blank {
        color: $white1!important;
        opacity: 1!important;

        & > div:last-child {
            & > div:first-child {
                background: transparent!important;
                border: none!important;
                font-weight: 900;
            }

            & > div:last-child {
                font-weight: 400!important;
                
                .recent-link {
                    transition: all .15s ease-in-out;

                    &:hover {
                        background: $black3L;
                        border-radius: 5px;
                    }
                }
            }
        }
    }
}


/* ------------------ */
/* --- Moulinette --- */
/* ------------------ */


#moulinette {
    .sheet-tabs {
        border-color: $black3L;
    }

    .form-group.search {
        display: flex;
        gap: 5px;
    
        .search {
            margin: 0;
        }
    
        .filepicker {
            margin: 0;
        }
    }
}


/* ---------------------------------- */
/* --- Giffyglyph's Monster Maker --- */
/* ---------------------------------- */


.gmm-modal .modal__header + .modal__body {
    color: black;
}

.gmm-window .editor .tox-tinymce {
    background: $black2;
}

.gmm-blueprint .blueprint__form .form-group__body .html-field {
    .tox-toolbar-overlord,
    .tox-toolbar__primary {
        width: 100%;
    }

    .tox-editor-header {
        padding: 0;
    }

    .tox .tox-tbtn[title="Save"] {
        width: 100%;
        border-radius: 0;
        height: 100%;

        &:hover {
            background: $black3L;
        }
    }
}

.gmm-blueprint.blueprint--monster.blueprint--monster--vanity {
    .ability-ranking .move-down,
    .ability-ranking .move-up,
    .save-ranking .move-down,
    .save-ranking .move-up {
        color: black;
    }
}

.gmm-window .accordion-section .editor {
    p, pre, h1, h2, h3, h4, h5, h6, li {
        color: black;
    }
}

.gmm-blueprint .blueprint__form .form-group__body {
    input, select, .checkbox {
        color: black;
    }
}

.gmm-blueprint.blueprint--monster.blueprint--monster--vanity {
    .ability-ranking .value,
    .save-ranking .value,
    .items .item__title {
        color: black;
    }
}

.gmm-artifact.artifact--action.artifact--action--vanity .action__body {
    .item__name,
    .item__recharge button {
        color: black;
    }
}

.gmm-artifact.artifact--monster.artifact--monster--vanity .button--text {
    color: black;
}

.gmm-forge .forge__options .forge__controls button i {
    color: black;
}

.gmm-modal {
    .modal__form .form-group__body select,
    .gmm-modal .modal__dialog {
        color: black;
    }
}

.gmm-forge.forge--monster {
    .gmm-modal.modal--ability-check .abilities .ability,
    .gmm-modal.modal--basic-attack-save .attacks .attack,
    .gmm-modal.modal--basic-attack-save .defences .defence,
    .gmm-modal.modal--basic-damage .damages .damage {
        color: black;
    }

    .gmm-modal.modal--about .support {
        color: black;
    }
}

.gmm-artifact.artifact--action.artifact--action--vanity .action__body  {
    background: transparent;
}

// Button on the sidebar
#sidebar .giffyglyph .btn-group {
    margin: 0;
}


/* -------------------------- */
/* --- Sidebar Aesthetics --- */
/* -------------------------- */


.directory .directory-list .directory-item.journal {
    max-height: 48px;

    .sidebar-image {
        object-fit: cover;
        margin-left: 0;
        padding: 0;
        height: 48px;
        width: 48px;
        flex: 0 0 32px;
        margin-left: -10px;
        margin-top: -8px;
        border-radius: 5px 0 0 5px;
    }
}


/* ---------------------------------- */
/* --- Simultaneous Combat System --- */
/* ---------------------------------- */


#scsApp .window-content {
    @extend .app;
    border: none;
    padding: 1px;
}


/* --------------------- */
/* --- Form Sections --- */
/* --------------------- */


.dnd5e, .tidy5e {
    .sheet-body nav.form-tabs {
        margin-top: 0;
        gap: 5px;
    }
}

/* ---------------- */
/* --- Midi QoL --- */
/* ---------------- */

#midi-qol-settings .midi-qol-box {
    font-size: 1.25rem;
    font-weight: 900;
    border: none;
    border-bottom: 1px solid $black3L;
    margin-bottom: 20px;
    padding-bottom: 20px;

    .midi-qol-faint {
        color: $white2;
        font-weight: 400;
        font-size: .813rem;
        padding-left: 40px;
        padding-right: 40%;
    }

    label {
        flex: 0 0 100%;
        text-align: left;
    }

    .form-group {
        padding-left: 40px;
        position: relative;

        &:after {
            display: none;
        }

        .form-fields {
            max-width: 60%;
            
            input[type="checkbox"] {
                position: absolute;
                top: 15px;
                left: 10px;
            }
        }
    }
}


/* ------------------ */
/* --- Small Time --- */
/* ------------------ */


#client-settings.tui-form #smalltime-darkness-config {
    flex: 0 1 auto;
    margin-left: -33px;
}

#smalltime-app {
    opacity: 1;

    #displayContainer,
    #dateDisplay {
        background: $black1L;
    }

    #dateDisplay {
        border-radius: 0 0 5px 5px;
        box-shadow: none;
    }

    .arrow {
        background: $black3;
        border: none;

        &:hover {
            border: none;
            background: $black3L;
        }
    }

    #dragHandle {
        background: $black1L;
    }
}


/* --------------------- */
/* --- Custom Hotbar --- */
/* --------------------- */


div#client-settings.tui-form {
    div#chbSetDiv {
        background: $accent2;
        border: none;
        border-radius: 10px 10px 0 0;
        padding-left: 40px;

        &:after {
            display: none;
        }

        label {
            padding: 0;
        }
    }

    div#coreSetDiv {
        background: $accent2;
        border: none;
        border-radius: 0 0 10px 10px;
        padding-bottom: 10px;

        &:after {
            display: none;
        }
    }
}


/* ---------------- */
/* --- Polyglot --- */
/* ---------------- */


.polyglot-lang-select {
    align-items: center;
    margin-bottom: 3px;
    
    label {
        height: fit-content;
    }

    select {
        background: $black3;
    
        &:hover {
            background: $black3L;
        }
    }
}


/* ---------------------- */
/* --- Chat Reactions --- */
/* ---------------------- */

// Reaction Rack
#chatReactionRack .emoji-button {
    box-shadow: none;
    border: none;
    background: $black1;

    &:hover {
        background: $black3;
    }
}

// Emoji Picker
.emoji-picker__wrapper .emoji-picker {
    background: $black2;
    border: none;

    &__search {
        background: $black3;
        border: none;
        color: $white1;
    }

    &__category-button {
        color: $white1;

        &:hover {
            background: $black3L;
            border-radius: 5px;
        }

        &:focus {
            box-shadow: none;
        }

        &.active {
            color: $white1;
            border-color: $white1;
            background: $black3L;
            border-radius: 5px;
        }
    }

    h2.emoji-picker__category-name {
        color: $white1;
    }

    &__emoji:hover {
        background: $black3L;
        border-radius: 5px;
    }

    &__preview {
        border-color: $black4;
        
        &-name {
            color: $white1;
        }
    }
}


/* ----------------------- */
/* --- Socket Settings --- */
/* ----------------------- */


.socket-settings-button {
    background: $black3!important;
    border: none;
    padding: 5px 15px;

    &:hover {
        background: $black3L!important;
    }
}


/* ---------------------- */
/* --- Module Credits --- */
/* ---------------------- */


#moduleCreditsDialog {
    p, li {
        line-height: 1.4;
    }

    h3 {
        font-weight: 900;
    }

    code {
        font-size: .875rem;
        background: $black4;
    }

    .window-content {
        nav ul li {
            color: $white1;
            font-size: .875rem;
        }
        
        main {
            background: $black2;
        }
    }
}


/* ------------------ */
/* --- Lib Themer --- */
/* ------------------ */


#libThemerDialog {
    .window-content {
        nav ul li {
            color: $white1;
            font-size: .875rem;
        }
        
        main {
            background: $black2;

            footer {
                background: transparent;
            }
        }
    }
}


/* ------------------ */
/* --- Soundscape --- */
/* ------------------ */


#soundscape_mixer .window-content {
    padding: 5px;

    .form-group {
        padding: 0;
    }

    #SoundScape_mainColumn {
        background: $black2!important;

        > .form-group {
            &:first-child {
                button i {
                    font-size: 1rem!important;
                }

                display: grid;
                grid-template-columns: 1fr 1fr 5fr 1fr 1fr;
                gap: 5px;
                padding: 0 5px;

                button,
                div:nth-child(3) {
                    max-width: none!important;

                }

                button[name="soundscapeConfig"] {
                    order: 1;
                }

                button[name="prevSoundscape"] {
                    order: 2;
                }

                div:nth-child(3) {
                    order: 3;
                    font-weight: 900;
                    font-size: 1.25rem!important;
                    align-items: center;
                    padding-left: 5px;

                    input {
                        background: transparent;
                        font-weight: 500;
                        margin-right: 27px;
                        margin-left: 5px;

                        &:hover {
                            background: $black3L;
                        }
                    }
                }

                button[name="nextSoundscape"] {
                    order: 4;
                }

                button[name="soundboardEnable"] {
                    order: 5;
                }
            }

            &:nth-child(2) {
                margin-top: 13px;
            }
        }

        .boxed,
        .masterBox {
            border: none;
            display: flex;
            flex-direction: column;

            &:hover {
                background: $black1L;
            }

            hr {
                display: none;
            }

            input[name="panSlider"] {
                margin-bottom: 10px;
                margin-top: 5px;

                &::-webkit-slider-thumb {
                    width: 12px;
                    height: 12px;
                    margin-top: -3.5px;
                }
            }

            button {
                margin: 0;
                align-self: center;
                left: auto;
                margin-bottom: 3px;

                div {
                    font-size: .813rem!important;
                    text-align: center;
                    left: auto;
                    bottom: auto;
                    line-height: 1;
                }

                &.FXButton {
                    margin-bottom: 10px;
                }

                &.configButton {
                    font-size: .813rem;
                    justify-content: center;
                    align-items: center;
                    display: flex;

                    i {
                        margin: 0;
                    }
                }

                
            }

            input[name="volumeNumber"] {
                padding: 0;
            }

            .sliderBox {
                margin: 0;
                margin-left: calc(50% - 1px);
            }

            input[name="volumeNumber"] {
                max-width: 100%!important;
                width: 100%;
            }

            .nameDiv {
                margin-left: 4px;
            }

            .boxNumber {
                font-weight: 900;
                margin-top: 5px;
                font-size: 1rem!important;
            }

            button[name="playSound"] {
                display: flex;
                align-items: center;
                justify-content: center;

                i {
                    font-size: .75rem;
                    position: static;
                    margin: 0;
                    margin-left: 2px;
                }
            }
        }

        .masterBox {
            background: $black1L;
            padding-top: 20px;

            .nameDiv {
                display: flex;
                align-items: center;
                margin: 0;
                margin-left: 2px;
                font-weight: 500;
            }
        }
    }

    #SoundScape_soundboardColumn {
        .sbButton {
            background: $black2L;
            border-radius: 5px;
            padding: 0;
            position: relative;

            &:hover {
                border-radius: 10px;
                filter: brightness(1.5);
            }
        }

        .sbButtonLabel {
            border: none;
            transition: all .15s ease-in-out;
            position: relative;
            font-size: .75rem;

            &:after {
                content: '+';
                position: absolute;
                left: calc(50% - 3px);
                top: calc(50% - 9px);
                display: block;
                color: $white1;
                font-weight: 900;
                opacity: 0;
                transition: all .15s ease-in-out;
            }

            &:hover {
                background: $black3L;
                

                &:after {
                    opacity: 1;
                }
            }
        }
    }
}

// Dialog Windows

#soundscape_soundboardConfig,
#soundscape_soundConfig,
#soundscape_soundscapeConfig {
    button[name="submit"] {
        margin-top: 10px;
    }

    sblabel {
        display: flex;
        align-items: center;
    }
}

#soundscape_soundConfig table {
    border: none;
    
    tr {
        background: transparent;
    }

    &:first-child {
        margin-bottom: 20px;
    }
}

#soundscape_soundscapeConfig {
    .ssConfigTab {
        border: none;
    }

    table {
        border: none;
        margin-bottom: 20px;
    }

    .ssConfigTabContent > div {
        gap: 5px;

        &:last-child {
            margin-top: 5px;
        }

        button {
            margin: 0;
        }
    }
}

#soundscape_fxConfig {
    .window-content form > div{
        width: 100%!important;

        > div:nth-child(2) {
            margin: auto;
            width: 600px!important;
        }

        h3 {
            font-weight: 900;
            font-size: 1.25rem;
        }
    }
    
    .fxItem {
        margin-bottom: 5px;
    }

    .row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;

        .fxColumn {
            margin: 0;
            width: 100%!important;

            h3 {
                font-weight: 700;
            }
        }
    }
}


/* ------------------- */
/* --- Module Sets --- */
/* ------------------- */


#settings .ms2t-switch-container {
    align-items: center;
    margin-top: 20px;

    .ms2t-switch {
        margin: 0;
        margin: 0 10px;
    }

    h2 {
        margin: 0;
    }
}


/* ------------------- */
/* --- Damage Logs --- */
/* ------------------- */


#damage-log .message.damage-log {
    background: $black2;
    border-color: $black4!important;

    img {
        border: none!important;
    }

    table {
        border: none;
        margin-bottom: 0;
        border-radius: 5px;

        tr {
            background: transparent;
        }

        th:first-child,
        td:first-child {
            display: none;
        }

        .num {
            text-align: center;
        }
    }

    &.damage,
    &.healing {
        background: $black2;
    }

    &.damage {
        table {
            background: $failure;
        }
    }

    &.healing {
        table {
            background: $success;
        }
    }
}

// Navbar

nav.damage-log-nav.tabs {
    border-color: $black4;
    box-shadow: none;

    .item {
        transition: all .15s ease-in-out;
        
        &:hover {
            text-shadow: none;
            background: $black3L;
            border-radius: 5px 5px 0 0;
        }

        &.active {
            border: none;
            box-shadow: none;
            text-shadow: none;
            background: $black4;
        }
    }
}